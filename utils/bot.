import os
from dotenv import load_dotenv
import telebot

# Load environment variables
load_dotenv()

BOT_TOKEN = os.getenv("BOT_TOKEN")
WALLET_ADDRESS = os.getenv("ETH_WALLET")  # Using ETH wallet for payments

if not BOT_TOKEN or not WALLET_ADDRESS:
    print("‚ùå BOT_TOKEN or WALLET_ADDRESS not loaded. Check your .env file.")
    exit()

bot = telebot.TeleBot(BOT_TOKEN)

# === Command Handlers ===
@bot.message_handler(commands=['start'])
def send_welcome(message):
    bot.send_message(
        message.chat.id,
        "üëã Welcome to ICEGODS Bot!\n"
        "Commands:\n"
        "/start - Main menu\n"
        "/profile - Your profile\n"
        "/bots - Manage your bots\n"
        "/buy - Buy subscription\n"
        "/free - Free trial\n"
        "/help - Help info"
    )

@bot.message_handler(commands=['profile'])
def profile(message):
    bot.send_message(
        message.chat.id,
        "üë§ Profile Info:\n"
        f"Name: {os.getenv('MAIN_ADMIN_NAME', 'N/A')}\n"
        f"Username: {os.getenv('MAIN_ADMIN_USERNAME', 'N/A')}\n"
        "Active subscriptions: 0\n"
        f"Registration date: 2025-10-08"
    )

@bot.message_handler(commands=['buy'])
def buy_subscription(message):
    bot.send_message(
        message.chat.id,
        "üõí Subscription Options:\n"
        "1Ô∏è‚É£ Monthly: $10\n"
        "2Ô∏è‚É£ Yearly: $80\n\n"
        f"üí∞ Send payment to this wallet: {WALLET_ADDRESS}\n"
        "Payments via ETH or SOL. After payment, your subscription will be activated."
    )

@bot.message_handler(commands=['help'])
def help_info(message):
    bot.send_message(
        message.chat.id,
        "‚ÑπÔ∏è Help & Info:\n"
        "/start - Main menu\n"
        "/profile - Show profile info\n"
        "/bots - Manage bots\n"
        "/buy - Buy subscription\n"
        "/free - Free trial\n"
        "/help - Help info"
    )

print("‚úÖ ICEGODS Bot Running!")
bot.infinity_polling()	

